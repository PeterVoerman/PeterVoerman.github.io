(this.webpackJsonpwhatsapp_analyzer=this.webpackJsonpwhatsapp_analyzer||[]).push([[0],{21:function(e,t,n){},3:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(13),r=n.n(a),o=(n(21),n(4)),i=(n(3),n(22),n(37)),l=n(38),j=n(39),u=n(7),h=n(8),b=n.n(h),d=n(0);var f=function(e){var t=e.messageDates,n=Object.keys(t),c=Object.values(t);return Object(d.jsx)("div",{children:Object(d.jsx)(b.a,{data:[{x:n,y:c,type:"scatter",mode:"lines",marker:{color:"red"}}],layout:{plot_bgcolor:"#131c21",paper_bgcolor:"#131c21",title:{text:"Messages per day",font:{color:"#00bfa5"}},xaxis:{title:{text:"Date"},titlefont:{color:"#00bfa5"},color:"#00bfa5",nticks:15},yaxis:{title:{text:"Amount of messages"},titlefont:{color:"#00bfa5"},color:"#00bfa5"}},useResizeHandler:!0,style:{width:"95%",height:"95%"}})})};var O=function(e){return Object(d.jsx)("div",{className:"namebutton col",onClick:function(){return e.onClick(e.name)},children:e.name})};var p=function(e){for(var t=e.nameList,n=[],c=0;c<t.length;c+=2)n.push(Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)(O,{onClick:function(t){return e.onClick(t)},name:t[c]},c),Object(d.jsx)(O,{onClick:function(t){return e.onClick(t)},name:t[c+1]},c+1)]}));return Object(d.jsxs)("div",{className:"namelist",children:["Selected: ",e.currentName,Object(d.jsx)("br",{}),"Total messages: ",e.messageCounter,Object(d.jsx)("div",{className:"container",children:n})]})},x=n(15);var v=function(e){var t=e.wordCloud,n=e.emojiJSON,c=e.en,s=e.nl;Object.keys(t).forEach((function(a){(c.includes(a)||s.includes(a))&&(t[a]=0),e.emojiStringToArray(a).forEach((function(e){n.hasOwnProperty(e)&&(t[a]=0)}))}));var a=[];return Object.keys(t).forEach((function(e){a.push({value:e,count:t[e]})})),a=e.sortJSON(a,"count").slice(0,25),Object(d.jsxs)("div",{className:"wordcloud",children:[Object(d.jsx)("h2",{children:"Most used words"}),Object(d.jsx)(x.TagCloud,{tags:a,minSize:20,maxSize:50})]})};var g=function(e){var t=e.messageNames,n=Object.values(t),c=Object.keys(t);return Object(d.jsx)("div",{children:Object(d.jsx)(b.a,{data:[{values:n,labels:c,type:"pie",textinfo:"none",hoverinfo:"label+percent"}],layout:{plot_bgcolor:"#131c21",paper_bgcolor:"#131c21",title:{text:"Messages per person",font:{color:"#00bfa5"}},legend:{font:{color:"#00bfa5"}}},useResizeHandler:!0,style:{width:"95%",height:"95%"}})})};var m=function(e){var t=e.emojiJSON,n=[];Object.keys(t).forEach((function(e){n.push({value:e,count:t[e]})})),n=e.sortJSON(n,"count").slice(0,30);for(var c=[],s=0;s<14;s+=2)c.push(Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"".concat(n[s].value,":").concat(n[s].count)})," ",Object(d.jsx)("td",{children:"".concat(n[s+1].value,":").concat(n[s+1].count)})]},s));return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Most used emojis"}),Object(d.jsx)("center",{children:Object(d.jsx)("table",{children:c})})]})};var y=function(e){var t=e.hours,n=e.totalMessages,c=Object.keys(t),s=Object.values(t);return s=s.map((function(e){return 100*e/n})),Object(d.jsx)("div",{children:Object(d.jsx)(b.a,{data:[{x:c,y:s,type:"bar",textinfo:"none"}],layout:{plot_bgcolor:"#131c21",paper_bgcolor:"#131c21",title:{text:"Messages per hour",font:{color:"#00bfa5"}},xaxis:{title:{text:"Hour"},titlefont:{color:"#00bfa5"},color:"#00bfa5"},yaxis:{title:{text:"Percentage of messages (%)"},titlefont:{color:"#00bfa5"},color:"#00bfa5"},margin:{t:25,b:125}}})})},w=n(35);var N=function(e){return"Invalid Date"!==new Date(e)&&!isNaN(new Date(e))},S=function(e,t){return e.sort((function(e,n){var c=e[t],s=n[t];return c>s?-1:c<s?1:0}))},k=function(e){for(var t=e.split(/([\uD800-\uDBFF][\uDC00-\uDFFF])/),n=[],c=0;c<t.length;c++){var s=t[c];""!==s&&n.push(s)}return n},C=function(e){for(var t=Object(c.useState)(""),n=Object(o.a)(t,2),s=n[0],a=n[1],r=Object(c.useState)("Everyone"),h=Object(o.a)(r,2),b=h[0],O=h[1],x=Object(c.useState)(""),C=Object(o.a)(x,2),E=C[0],A=C[1],D=e.logs,P={},F={},J={},L={},z=0,M=0;M<24;M++)M<10?L["0".concat(M)]=0:L["".concat(M)]=0;var _={};w.forEach((function(e){_[e.char]=0})),u.a.push("<media"),u.a.push("omitted>"),u.a.push("message"),u.a.push("deleted");var T=!1;if("["===D[0]&&(T=!0),!0===T?D.split("\n[").slice(1).forEach((function(e){var t=e.split(" "),n=e.split(":");if(4===n.length){var c=n[2].split("]")[1].slice(1);if(c===b||"Everyone"===b){z++;var s=t[0];P.hasOwnProperty(s)?P[s]+=1:P[s]=1,F.hasOwnProperty(c)?F[c]+=1:F[c]=1;var a=n[3];a.split(" ").slice(1).forEach((function(e){"\r"===(e=e.toLowerCase()).slice(e.length-1)&&(e=e.slice(0,e.length-1)),e.length>1&&(J.hasOwnProperty(e)?J[e]+=1:J[e]=1)}));var r=n[0].slice(n[0].length-2,n[0].length);L[r]+=1,k(a).forEach((function(e){_.hasOwnProperty(e)&&(_[e]+=1)}))}}})):D.split("\n").slice(0).forEach((function(e){var t=e.split(",");if(N(t[0])){var n=t[1].split(/[:,-]+/);if(4===n.length){var c=n[2].slice(1);if(c===b||"Everyone"===b){z++;var s=t[0];P.hasOwnProperty(s)?P[s]+=1:P[s]=1,F.hasOwnProperty(c)?F[c]+=1:F[c]=1,n[3].split(" ").forEach((function(e){"\n"===(e=e.toLowerCase()).slice(e.length-1)&&(e=e.slice(0,e.length-1)),e.length>1&&(J.hasOwnProperty(e)?J[e]+=1:J[e]=1)}));var a=n[0].slice(1);L[a]+=1,k(n[3]).forEach((function(e){_.hasOwnProperty(e)&&(_[e]+=1)}))}}}})),""===s&&Object.keys(F).length>0){var W=Object.keys(F);W.unshift("Everyone"),a(W),A(F)}return Object(d.jsxs)(i.a,{fluid:!0,className:"App",children:[Object(d.jsx)("h1",{className:"header",onClick:function(){return e.setLogs(""),a(""),O("Everyone"),void A("")},children:" WhatsApp Analyzer "}),Object(d.jsxs)(l.a,{children:[Object(d.jsx)(j.a,{children:Object(d.jsx)(f,{messageDates:P})}),Object(d.jsx)(j.a,{xs:2,children:Object(d.jsx)(p,{nameList:s,currentName:b,messageCounter:z,onClick:function(e){return function(e){O(e)}(e)}})}),Object(d.jsx)(j.a,{children:Object(d.jsx)(g,{messageNames:E})})]}),Object(d.jsxs)(l.a,{children:[Object(d.jsxs)(j.a,{children:[Object(d.jsx)(v,{wordCloud:J,emojiJSON:_,en:u.a,nl:u.b,emojiStringToArray:k,sortJSON:S})," "]}),Object(d.jsx)(j.a,{children:Object(d.jsx)(y,{hours:L,totalMessages:z})}),Object(d.jsx)(j.a,{className:"emojitable",children:Object(d.jsx)(m,{emojiJSON:_,sortJSON:S})})]})]})};var E=function(e){return Object(d.jsxs)(i.a,{className:"App",children:[Object(d.jsx)("h1",{children:"WhatsApp Analyzer"}),Object(d.jsxs)(l.a,{children:[Object(d.jsxs)(j.a,{className:"explanation",children:[Object(d.jsx)("h4",{children:"How to analyze your WhatsApp chat logs:"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"Open a WhatsApp chat and tap the three dots in the top left of your screen"}),Object(d.jsxs)("li",{children:["Select more -",">"," Export chat"]}),Object(d.jsx)("li",{children:"Select without media"}),Object(d.jsx)("li",{children:"Send the chat logs to yourself via WhatsApp/email/bluetooth"}),Object(d.jsx)("li",{children:"Upload the chat logs"})]})]}),Object(d.jsx)(j.a,{xs:2}),Object(d.jsxs)(j.a,{className:"upload",children:["Upload files by dragging them on the box below or by clicking on it.",Object(d.jsx)("label",{for:"inputfile",className:"inputlabel",children:Object(d.jsx)("input",{type:"file",id:"inputfile",className:"input",onChange:function(t){return function(t){t.preventDefault();var n=new FileReader;n.onload=function(t){var n=t.target.result;e.setLogs(n)},n.readAsText(t.target.files[0])}(t)}})})]})]})]})};var A=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1];return""===n?Object(d.jsx)(E,{setLogs:s}):Object(d.jsx)(C,{logs:n,setLogs:s})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(A,{})}),document.getElementById("root")),D()}},[[36,1,2]]]);
//# sourceMappingURL=main.3eef6e85.chunk.js.map